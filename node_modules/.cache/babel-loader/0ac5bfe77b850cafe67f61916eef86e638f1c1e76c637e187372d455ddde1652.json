{"ast":null,"code":"import _slicedToArray from\"/Users/nikitaprokopenko/Desktop/yandexpr/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import api from\"../utils/Api.js\";import Card from\"./Card.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),profileUserInfo=_useState2[0],setProfileUserInfo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];useEffect(function(){api.getUser().then(function(profileUserInfo){setProfileUserInfo(profileUserInfo);console.log(profileUserInfo);}).catch(function(error){return console.log(error);});api.getInitialCards().then(function(cards){setCards(cards);}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:profileUserInfo.avatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__button-wrapper\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__avatar-button\",onClick:onEditAvatar})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__edit\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__edit-name\",children:profileUserInfo.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-profile\",onClick:onEditProfile,\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__edit-prof\",children:profileUserInfo.about})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:onAddPlace,\"aria-label\":\"\\u0414\\u043E\\u0431\\u0432\\u0430\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements__list\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card._id);})})})]});}export default Main;","map":{"version":3,"names":["useEffect","useState","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_useState","_useState2","_slicedToArray","profileUserInfo","setProfileUserInfo","_useState3","_useState4","cards","setCards","getUser","then","console","log","catch","error","getInitialCards","className","children","src","avatar","alt","type","onClick","name","about","map","card","_id"],"sources":["/Users/nikitaprokopenko/Desktop/yandexpr/mesto-react/src/components/Main.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport api from \"../utils/Api.js\";\nimport Card from \"./Card.js\";\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n  const [profileUserInfo, setProfileUserInfo] = useState(\"\");\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getUser()\n      .then((profileUserInfo) => {\n        setProfileUserInfo(profileUserInfo)\n        console.log(profileUserInfo)\n      })\n      .catch((error) => console.log(error));\n    api\n      .getInitialCards()\n      .then((cards) => {\n        setCards(cards);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-wrapper\">\n          <img className=\"profile__avatar\" src={profileUserInfo.avatar} alt=\"аватарка пользователя\" />\n          <div className=\"profile__button-wrapper\">\n            <button type=\"button\" className=\"profile__avatar-button\" onClick={onEditAvatar}></button>\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__edit\">\n            <h1 className=\"profile__edit-name\">{profileUserInfo.name}</h1>\n            <button type=\"button\" className=\"profile__edit-profile\" onClick={onEditProfile} aria-label=\"Редактировать профиль\"></button>\n          </div>\n          <p className=\"profile__edit-prof\">{profileUserInfo.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace} aria-label=\"Добваить карточку\"></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => (\n            <Card key={card._id} card={card} onCardClick={onCardClick} />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}